{"version":3,"file":"Date.js","names":["parseDate","InvalidError","DateType","value","properties","Date","isNaN","valueOf","isFinite","date"],"sources":["../../source/types/Date.js"],"sourcesContent":["import parseDate from '../read/parseDate.js'\r\nimport InvalidError from './InvalidError.js'\r\n\r\nexport default function DateType(value, { properties }) {\r\n\t// XLSX has no specific format for dates.\r\n  // Sometimes a date can be heuristically detected.\r\n  // https://github.com/catamphetamine/read-excel-file/issues/3#issuecomment-395770777\r\n  if (value instanceof Date) {\r\n    if (isNaN(value.valueOf())) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    return value\r\n  }\r\n  if (typeof value === 'number') {\r\n    if (isNaN(value)) {\r\n      throw new InvalidError('invalid_number')\r\n    }\r\n    if (!isFinite(value)) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    const date = parseDate(value, properties)\r\n    if (isNaN(date.valueOf())) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    return date\r\n  }\r\n  throw new InvalidError('not_a_date')\r\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,sBAAtB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,QAAyC;EAAA,IAAdC,UAAc,QAAdA,UAAc;;EACvD;EACC;EACA;EACA,IAAID,KAAK,YAAYE,IAArB,EAA2B;IACzB,IAAIC,KAAK,CAACH,KAAK,CAACI,OAAN,EAAD,CAAT,EAA4B;MAC1B,MAAM,IAAIN,YAAJ,CAAiB,eAAjB,CAAN;IACD;;IACD,OAAOE,KAAP;EACD;;EACD,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IAC7B,IAAIG,KAAK,CAACH,KAAD,CAAT,EAAkB;MAChB,MAAM,IAAIF,YAAJ,CAAiB,gBAAjB,CAAN;IACD;;IACD,IAAI,CAACO,QAAQ,CAACL,KAAD,CAAb,EAAsB;MACpB,MAAM,IAAIF,YAAJ,CAAiB,eAAjB,CAAN;IACD;;IACD,IAAMQ,IAAI,GAAGT,SAAS,CAACG,KAAD,EAAQC,UAAR,CAAtB;;IACA,IAAIE,KAAK,CAACG,IAAI,CAACF,OAAL,EAAD,CAAT,EAA2B;MACzB,MAAM,IAAIN,YAAJ,CAAiB,eAAjB,CAAN;IACD;;IACD,OAAOQ,IAAP;EACD;;EACD,MAAM,IAAIR,YAAJ,CAAiB,YAAjB,CAAN;AACD"}